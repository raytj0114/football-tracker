# Football App

## このファイルの目的

Claudeが自律的に高品質な実装を行うためのルールを定義する。
**仕様や実装パターンは記載しない** - それらは実装時に自ら調査・判断すること。

## 品質原則

### Craftsmanship Principles

1. **細部に魂を込める**: ユーザーに見えない部分（内部のコード、命名、構造）にも最大限のこだわりを持つ。見えない部分の品質が、作り手としての誠実さを表す。
2. **一貫性を徹底する**: UIの文言を変えたら、関連する変数名・ファイル名・コンポーネント名もすべて揃える。「ユーザーに見えないから」は言い訳にならない。
3. **妥協しない**: 「動けばいい」ではなく「正しくあるべき」を追求する。

## 検証ループ（最重要）

**すべての実装は「実装→検証→修正」のループを回すこと。このループが品質を2〜3倍向上させる。**

### 実装前

1. 関連する既存コードを確認し、プロジェクトのパターンを把握する
2. 使用するパッケージの**現在のバージョン**（package.json）と**最新のドキュメント**を確認する
3. 不明点があれば推測せず、調査する

### 実装後（必ず実行）

以下を順番に実行し、**すべてパスするまで修正を繰り返す**：

```bash
# 1. 型チェック
npm run type-check

# 2. リント
npm run lint

# 3. ビルド
npm run build

# 4. テスト（関連テストがある場合）
npm run test

# 5. 動作確認
npm run dev
# → ブラウザで http://localhost:3000 にアクセスし、変更箇所を確認
```

### 検証で問題が見つかった場合

1. エラーメッセージを**全文**読み、根本原因を特定する
2. 推測で修正せず、ドキュメントやコードを確認する
3. 修正後、**検証ループを最初から**回す
4. 同じエラーが繰り返される場合、アプローチ自体を見直す

### 動作確認の観点

- コンソールにエラーが出ていないか
- 意図した動作をしているか
- 既存機能が壊れていないか
- レスポンシブ対応は問題ないか（該当する場合）

## 禁止事項

- [ ] 動作確認せずに「完了」と報告すること
- [ ] エラーを無視または握りつぶすこと
- [ ] 既存コードのパターンを確認せずに実装すること
- [ ] パッケージのバージョンを確認せずに古い書き方をすること
- [ ] 「たぶん動く」という状態で終わらせること

## 主要コマンド

```bash
npm run dev          # 開発サーバー起動
npm run build        # プロダクションビルド
npm run lint         # ESLint実行
npm run lint:fix     # ESLint自動修正
npm run type-check   # TypeScriptチェック
npm run test         # テスト実行
npm run format       # Prettier実行
```

## 調査方法

### パッケージの使い方を調べる

1. `package.json` で現在のバージョンを確認
2. 公式ドキュメントで該当バージョンの使い方を確認
3. 既存コードで使用パターンを確認

### APIの仕様を調べる

1. 既存の実装（`src/lib/`配下）を確認
2. 必要に応じて実際にAPIを叩いてレスポンスを確認
3. スキーマ（`src/lib/football-api/schemas.ts`）と照合

### エラーの原因を調べる

1. エラーメッセージを正確に読む
2. スタックトレースで発生箇所を特定
3. 該当コードと周辺のコンテキストを確認
4. 類似のエラーが他の場所で解決されていないか確認
